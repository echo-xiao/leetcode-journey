# 2327. 按奇偶性交换后的最大数字

**难度**: Easy | **标签**: `Sorting` `Heap (Priority Queue)`

## 题目描述

<p>给你一个正整数 <code>num</code> 。你可以交换 <code>num</code> 中 <strong>奇偶性</strong> 相同的任意两位数字（即，都是奇数或者偶数）。</p>

<p>返回交换 <strong>任意</strong> 次之后 <code>num</code> 的 <strong>最大</strong> 可能值<em>。</em></p>

<p>&nbsp;</p>

<p><strong>示例 1：</strong></p>

<pre><strong>输入：</strong>num = 1234
<strong>输出：</strong>3412
<strong>解释：</strong>交换数字 3 和数字 1 ，结果得到 3214 。
交换数字 2 和数字 4 ，结果得到 3412 。
注意，可能存在其他交换序列，但是可以证明 3412 是最大可能值。
注意，不能交换数字 4 和数字 1 ，因为它们奇偶性不同。
</pre>

<p><strong>示例 2：</strong></p>

<pre><strong>输入：</strong>num = 65875
<strong>输出：</strong>87655
<strong>解释：</strong>交换数字 8 和数字 6 ，结果得到 85675 。
交换数字 5 和数字 7 ，结果得到 87655 。
注意，可能存在其他交换序列，但是可以证明 87655 是最大可能值。
</pre>

<p>&nbsp;</p>

<p><strong>提示：</strong></p>

<ul>
	<li><code>1 &lt;= num &lt;= 10<sup>9</sup></code></li>
</ul>


---
## 解题思路与复盘

1. **一句话直击本质：**  
   使用最大堆分别存储奇数和偶数，然后根据原数字的奇偶性顺序从堆中取出最大值重构数字。

2. **综合思路：**  
   - **堆排序法：**  
     - 使用两个最大堆分别存储奇数和偶数。遍历原数字，将奇数和偶数分别压入对应的最大堆中。然后再次遍历原数字，根据每个数字的奇偶性从对应的堆中取出最大值，构建新的数字。
   - **其他可能解法：**  
     - **排序法：** 可以将奇数和偶数分别提取出来排序，然后根据原数字的奇偶性顺序重构。
     - **计数排序法：** 由于数字范围有限，可以使用计数排序来优化堆的操作。

3. **全量伪代码：**

   - **堆排序法：**
     ```
     初始化奇数最大堆 oddHeap 和偶数最大堆 evenHeap
     对于 num 中的每个字符 i:
         如果 i 是偶数:
             将 -i 压入 evenHeap
         否则:
             将 -i 压入 oddHeap

     初始化结果列表 res
     对于 num 中的每个字符 j:
         如果 j 是偶数:
             从 evenHeap 弹出最大值并添加到 res
         否则:
             从 oddHeap 弹出最大值并添加到 res

     将 res 转换为整数并返回
     ```

   - **排序法（假设实现）：**
     ```
     初始化奇数列表 oddList 和偶数列表 evenList
     对于 num 中的每个字符 i:
         如果 i 是偶数:
             添加 i 到 evenList
         否则:
             添加 i 到 oddList

     对 oddList 和 evenList 进行降序排序

     初始化结果列表 res
     对于 num 中的每个字符 j:
         如果 j 是偶数:
             从 evenList 中取出最大值并添加到 res
         否则:
             从 oddList 中取出最大值并添加到 res

     将 res 转换为整数并返回
     ```

4. **复杂度：**

   - **时间复杂度：**  
     堆排序法的时间复杂度为 $O(n \log n)$，其中 $n$ 是数字的位数，因为每次插入和弹出堆的操作都是 $O(\log n)$。
   
   - **空间复杂度：**  
     堆排序法的空间复杂度为 $O(n)$，因为需要存储奇数和偶数的堆。